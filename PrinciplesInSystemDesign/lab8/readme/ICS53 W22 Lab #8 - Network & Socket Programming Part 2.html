<!DOCTYPE html>
<!-- saved from url=(0095)https://docs.google.com/document/u/1/d/1LKh92HdXk2cEWfbpxFgSJJutMGzl2E8Rw1Els8BkEws/mobilebasic -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>ICS53 W22 Lab #8 - Network &amp; Socket Programming Part 2</title><link rel="shortcut icon" href="https://ssl.gstatic.com/docs/documents/images/kix-favicon7.ico"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=0"><meta name="referrer" content="strict-origin-when-cross-origin"><style nonce="">
html {
  overflow: auto;
}
body {
  margin: 0;
  overflow: hidden;
  word-wrap: break-word;
}
.app-container {
  height: 100%;
  /* Height of mobileweb header + 1 px vertical shadow. */
  margin-top: 57px;
  overflow: auto;
}
.doc {
  padding: 20px 12px 0 12px;
  position: relative;
}
</style><style>/* Copyright 2022 Google Inc. All Rights Reserved. */
.docs-ml-noselect{-webkit-touch-callout:none;-webkit-user-drag:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.docs-ml-promotion{z-index:1002}.docs-ml-header{z-index:1}.docs-ml-icon{direction:ltr;display:inline-block;text-align:left;overflow:hidden;position:relative;vertical-align:middle}.docs-ml-img:before{content:url("//ssl.gstatic.com/docs/common/mobileweb_sprite1.png")}.docs-ml-img-container{height:156px;position:absolute;width:36px}.docs-ml-docs-logo-icon{left:0;top:-36px}.docs-ml-sheets-logo-icon{left:0;top:0}.docs-ml-slides-logo-icon{left:0;top:-96px}.docs-ml-arrow-back-icon{left:0;top:-132px}.docs-ml-edit-icon{left:0;top:-72px}@media screen and (-webkit-min-device-pixel-ratio:2.0){.docs-ml-img{content:url(//ssl.gstatic.com/docs/common/mobileweb_sprite1.png)}.docs-ml-img-container{height:156px;position:absolute;width:36px}.docs-ml-docs-logo-icon{left:0;top:-36px}.docs-ml-sheets-logo-icon{left:0;top:0}.docs-ml-slides-logo-icon{left:0;top:-96px}.docs-ml-arrow-back-icon{left:0;top:-132px}.docs-ml-edit-icon{left:0;top:-72px}}.docs-ml-header{background:#fafafa;border-bottom:1px solid #cbcbcb;box-shadow:0 1px 1px rgba(0,0,0,.1);-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;font-family:Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;padding:4px 0;position:fixed;left:0;top:0;width:100%}.docs-ml-header-icon{height:24px;opacity:0.6;width:24px}.docs-ml-header-icon-container{padding:12px}.docs-ml-header-item{display:inline-block;vertical-align:middle}.docs-ml-header-drive-link{padding-left:4px}body[dir="rtl"] .docs-ml-arrow-back-dir{-webkit-transform:scaleX(-1);-moz-transform:scaleX(-1);-ms-transform:scaleX(-1);-o-transform:scaleX(-1);transform:scaleX(-1)}.docs-ml-header-document-title{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;line-height:24px;padding:0 12px;width:60%;width:calc(100% - 104px)}.docs-ml-header-document-title-text{font-size:20px;font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.docs-ml-header-edit-button{float:right;padding-right:4px}.docs-ml-promotion{background:white;bottom:0;box-shadow:0 4px 12px rgba(0,0,0,0.4);font-family:Arial,Helvetica,sans-serif;left:0;position:fixed;width:100%}.docs-ml-promotion-off-screen{-webkit-transform:translateY(100%);-moz-transform:translateY(100%);-ms-transform:translateY(100%);-o-transform:translateY(100%);transform:translateY(100%)}.docs-ml-promotion-shown{-webkit-transform:translateY(0);-moz-transform:translateY(0);-ms-transform:translateY(0);-o-transform:translateY(0);transform:translateY(0);-webkit-transition:-webkit-transform 333ms cubic-bezier(0.4,0.0,0.2,1);transition:transform 333ms cubic-bezier(0.4,0.0,0.2,1)}.docs-ml-promotion-dismissed{-webkit-transform:translateY(100%);-moz-transform:translateY(100%);-ms-transform:translateY(100%);-o-transform:translateY(100%);transform:translateY(100%);box-shadow:none}.docs-ml-promotion-no-horizontal-scroll{overflow-x:hidden}.docs-ml-promotion-header{display:table;padding:24px 24px 0 24px}.docs-ml-promotion-app-icon-container{display:table-cell}.docs-ml-promotion-app-icon{height:36px;width:36px}@media (min-width:600px){.docs-ml-promotion-app-icon{-webkit-transform:scale(1.33);-moz-transform:scale(1.33);-ms-transform:scale(1.33);-o-transform:scale(1.33);transform:scale(1.33)}}.docs-ml-promotion-text{display:table-cell;padding-left:20px;vertical-align:top}.docs-ml-promotion-text-heading{color:rgba(0,0,0,0.87);font-size:16px;font-weight:bold;padding-bottom:7px}.docs-ml-promotion-text-body{color:rgba(0,0,0,0.87);font-size:14px}.docs-ml-promotion-action-row{float:right;margin-top:6px;padding:8px 24px}.docs-ml-promotion-action-row-desktop{margin-top:6px}.docs-ml-promotion-action-container{display:inline-block;height:48px;margin:6px 4px;vertical-align:middle}.docs-ml-promotion-action-button{display:inline-block;font-size:14px;font-weight:500;padding:9px 12px;vertical-align:middle}.docs-ml-promotion-action-button-wrapper:focus{outline-color:#d6d6d6}.docs-ml-promotion-action-button.docs-ml-promotion-yes-button{background-color:#4285f4;border-radius:4px;color:#fafafa;border:1px solid transparent}.docs-ml-promotion-action-button.docs-ml-promotion-yes-button:active{background-color:#1967d2}.docs-ml-promotion-action-button.docs-ml-promotion-no-button{background-color:#fafafa;color:#5f6368;border-radius:4px;border:1px solid #dadce0}.docs-ml-promotion-action-button.docs-ml-promotion-no-button:active{background-color:#f5f5f5}.docs-ml-promotion.desktop{text-align:center}@media (orientation:portrait){.docs-ml-promotion.desktop{padding-top:56px;padding-bottom:80px}}@media (orientation:landscape){.docs-ml-promotion.desktop{padding-top:36px;padding-bottom:56px}}.docs-ml-promotion-heading-desktop{font-family:'Google Sans';font-size:18px;font-weight:bold;color:#202124;padding-top:18px;padding-bottom:10px;line-height:1.5;max-width:360px;margin:0px auto}@media (orientation:landscape){.docs-ml-promotion-heading-desktop{padding-top:0px;max-width:none}}.docs-ml-promotion-text-body-desktop{font-size:14px;line-height:1.5;color:#5f6368;padding-bottom:10px}.docs-icon.docs-ml-promotion-desktop-icon{height:40px;width:40px;-webkit-transform:scale(2.5);-moz-transform:scale(2.5);-ms-transform:scale(2.5);-o-transform:scale(2.5);transform:scale(2.5);-webkit-transform-origin:top;-moz-transform-origin:top;-ms-transform-origin:top;-o-transform-origin:top;transform-origin:top}.docs-icon-ml-promotion-icon-container-desktop{height:100px;width:100px;margin-left:auto;margin-right:auto}@media (orientation:landscape){.docs-icon-ml-promotion-icon-container-desktop{display:inline-block;vertical-align:top}.docs-ml-promotion-description-desktop{display:inline-block;vertical-align:top;text-align:left;padding-left:39px;max-width:645px}}@media (orientation:landscape){.docs-ml-promotion-action-row-desktop{margin-left:-8px}}.docs-ml-promotion-action-row-desktop .docs-ml-promotion-action-container{margin:6px 8px;font-family:'Google Sans'}.docs-ml-promotion-action-row-desktop .docs-ml-promotion-action-button-wrapper:focus{outline:none}.docs-ml-promotion-action-button.docs-ml-promotion-yes-button.docs-ml-promotion-app-themed{background-image:none;border:1px solid transparent!important;border-radius:4px;box-shadow:none;box-sizing:border-box;font-family:"Google Sans",Roboto,RobotoDraft,Helvetica,Arial,sans-serif;font-weight:500;font-size:14px;height:36px;letter-spacing:0.25px;line-height:16px;padding:9px 24px 11px 24px;background:#1a73e8;color:#fff}.docs-ml-promotion-action-button.docs-ml-promotion-yes-button.docs-ml-promotion-app-themed:active{background-image:none;border:1px solid transparent!important;border-radius:4px;box-shadow:none;box-sizing:border-box;font-family:"Google Sans",Roboto,RobotoDraft,Helvetica,Arial,sans-serif;font-weight:500;font-size:14px;height:36px;letter-spacing:0.25px;line-height:16px;padding:9px 24px 11px 24px;background:#1a73e8;color:#fff}.docs-ml-promotion-action-button.docs-ml-promotion-no-button.docs-ml-promotion-app-themed{background-image:none;border:1px solid transparent!important;border-radius:4px;box-shadow:none;box-sizing:border-box;font-family:"Google Sans",Roboto,RobotoDraft,Helvetica,Arial,sans-serif;font-weight:500;font-size:14px;height:36px;letter-spacing:0.25px;line-height:16px;padding:9px 24px 11px 24px;background:white;border:1px solid #dadce0!important;color:#1a73e8}.docs-ml-promotion-action-button-wrapper:focus .docs-ml-promotion-action-button.docs-ml-promotion-yes-button.docs-ml-promotion-app-themed{background-image:none;border:1px solid transparent!important;border-radius:4px;box-shadow:none;box-sizing:border-box;font-family:"Google Sans",Roboto,RobotoDraft,Helvetica,Arial,sans-serif;font-weight:500;font-size:14px;height:36px;letter-spacing:0.25px;line-height:16px;padding:9px 24px 11px 24px;background:#1a73e8;color:#fff;background:#5094ed;box-shadow:0 1px 3px 1px rgba(66,133,244,0.15)}.docs-ml-promotion-action-button-wrapper:focus .docs-ml-promotion-action-button.docs-ml-promotion-no-button.docs-ml-promotion-app-themed{background-image:none;border:1px solid transparent!important;border-radius:4px;box-shadow:none;box-sizing:border-box;font-family:"Google Sans",Roboto,RobotoDraft,Helvetica,Arial,sans-serif;font-weight:500;font-size:14px;height:36px;letter-spacing:0.25px;line-height:16px;padding:9px 24px 11px 24px;background:#e9f1fe;border:1px solid #c1d8fb!important}</style><script nonce="">_docs_flag_initialData={"docs-mwid":false,"docs-smheo":false,"info_params":{"token":"AC4w5Vg-kvgQ4_N2fM3wyk-64NODH77Rvg:1646264627570","includes_info_params":true},"ilcm":{"eui":"ADFN-cvCiHoGkgSJkkqGmWS6qcBptP2tH4W7gAK89q-SFIoyG8pJY7mIUOU4YvRPozrMAXN1wD6z","je":1,"sstu":1646264627647000,"si":"COSr2dLNqPYCFdZbsAodnAQK1Q","gsc":2,"ei":[5700019,5700032,5700057,5700103,5700114,5700333,5700394,5700884,5700893,5700960,5701034,5701586,5702402,5702445,5702785,5702912,5703182,5703283,5703307,5703757,5703839,5703890,5703913,5704063,5704144,5704520,5704572,5704621,5704641,5704883,5705793,5705891,5706209,5706270,5706523,5706786,5706933,5707047,5707075,5707204,5707236,5707326,5707361,5707445,5707609,5707711,5707819,5708365,5708576,5708870,5708886,5709085,5709326,5709476,5709673,5710587,5710692,5710772,5710938,5711193,5711230,5711246,5711389,5711495,5711522,5711550,5711808,5712045,5712049,5712053,5712189,5712214,5712368,5712635,5712909,5712913,5713064,5713195,5713207,5713554,5713592,5713997,5714310,5714550,5714628,5714796,5715270,5715349,5715791,5716196,5717093,5717567,5718054,5719414,5719415,5719416,5719462,5719482,5720060,5720533,5720925,5721307,5721344,5721348,5722044,5723365,5723450,5723473,5723851,5723911,5723987,5724355,5724553,5724597,5724896,5724936,5725475,5725737,5725761,5725855,5725974,5726635,5727257,5727624,5727701,5729092,5730225,5730285,5730714,5730847,5731174,5731909,5732251,5732541,5733203,5733263,5734436,5734571,5734632,5734840,5735114,5735134,5735670,5735806,5735941,5736451,5736531,5736884,5737153,5737177,5737196,5737254,5737277,5737279,5738112,5738352,5738413,5738509,5738649,5739308,5739718,5739778,5739897,5740106,5740126,5740186,5740341,5740628,5740648,5740814,5741522,5741639,5741734,5741775,5741974,5741994,5742156,5742482,5742522,5742652,5743058,5743104,5743144,5743364,5743384,5743404,5743444,5743787,5743829,5743849,5744008,5744128,5744228,5744348,5744691,5744833,5745003,5745238,5745582,5745602,5745622,5745772,5746138,5746344,5746462,5746648,5746724,5747126,5747841,5747941,5748009,5748049,5748149,5748290,5748468,5748488,5748612,5748950,5748991,5749387,5749755,5750024,5750070,5750110,5750273,5750790,5751157,5751257,5751481,5752170,5752461,5753066,5753453,5753681,5753942,5753987,5754025,5754289,5754387,5754467,5754574,5754852,5755389,5755409,5755429,5755505,5755944,5756109,5756675,5757057,5757342,5758173,5758193,5758415,5759955,5760127,5760167,5760390,5760450,5760470,5761081,5761271,5761467,5761889,5764118,13702623,48966242],"crc":0,"cvi":[]},"drive_url":"//drive.google.com/u/1?usp\u003ddocs_web","docs-sup":"/document/u/1"}; _docs_flag_cek='P9sHajZ2GwdRCa-53wv9LA\x3d\x3d'; if (window['DOCS_timing']) {DOCS_timing['ifdld']=new Date().getTime();}</script></head><body class="docs-ml-noselect"><script type="text/javascript" src="./ICS53 W22 Lab #8 - Network &amp; Socket Programming Part 2_files/1102345017-mobileweb_binary_i18n.js.download" nonce=""></script><script type="text/javascript" nonce="">if ((! false  && !this['DOCS_initDocsMobileWeb']) ||  false ) {if (window.navigator && window.navigator.sendBeacon) {window.navigator.sendBeacon('\/document\/u\/1\/jserror?jobset\x3dprod\x26error\x3dJS+binary+load+failure&context.functionName=DOCS_initDocsMobileWeb' + '&context.serviceWorkerControlled=' + !!(navigator.serviceWorker && navigator.serviceWorker.controller) + '\x26context.actionName\x3dMobileBasic');}(window.enterCoreJsErrorDialog ? enterCoreJsErrorDialog() : (window.location.href = 'https:\/\/support.google.com\/accounts\/answer\/32050'))}DOCS_initDocsMobileWeb( true ,  true , 'ICS53 W22 Lab #8 - Network \x26 Socket Programming Part 2', 'intent:\/\/docs.google.com\/document\/d\/1LKh92HdXk2cEWfbpxFgSJJutMGzl2E8Rw1Els8BkEws\/edit#Intent;scheme\x3dhttps;package\x3dcom.google.android.apps.docs.editors.docs;S.browser_fallback_url\x3dmarket:\/\/details?id\x3dcom.google.android.apps.docs.editors.docs;end', 'googledocs:\/\/docs.google.com\/document\/u\/1\/d\/1LKh92HdXk2cEWfbpxFgSJJutMGzl2E8Rw1Els8BkEws\/edit',  false );</script><div id="docs-ml-header-id" class="docs-ml-header"><span class="docs-ml-header-item docs-ml-header-drive-link"><div id="docs-ml-header-drive-link-aria-label" style="display:none;">Go to Drive</div><a href="https://drive.google.com/u/1?usp=docs_web" aria-labelledby="docs-ml-header-drive-link-aria-label" role="button"><div class="docs-ml-header-icon-container"><div class="docs-ml-icon docs-ml-header-icon docs-ml-arrow-back-dir"><div class="docs-ml-img-container docs-ml-img docs-ml-arrow-back-icon"></div></div></div></a></span><span class="docs-ml-header-item docs-ml-header-document-title"><div class="docs-ml-header-document-title-text">ICS53 W22 Lab #8 - Network &amp; Socket Programming Part 2</div></span></div><div class="app-container"><div class="doc-container"><div class="doc"><style type="text/css"> @import url(https://themes.googleusercontent.com/fonts/css?kit=cGvuclDC_Z1vE_cnVEU6Ae_NZQ7StBcqH_vXVqoPMX0); .lst-kix_list_2-6 > li:before{content:"●  "}.lst-kix_list_2-7 > li:before{content:"○  "}ul.lst-kix_list_1-0{list-style-type:none}.lst-kix_list_2-4 > li:before{content:"○  "}.lst-kix_list_2-5 > li:before{content:"■  "}.lst-kix_list_2-8 > li:before{content:"■  "}ul.lst-kix_list_2-8{list-style-type:none}ul.lst-kix_list_1-3{list-style-type:none}ul.lst-kix_list_2-2{list-style-type:none}.lst-kix_list_1-0 > li:before{content:"-  "}ul.lst-kix_list_1-4{list-style-type:none}ul.lst-kix_list_2-3{list-style-type:none}ul.lst-kix_list_1-1{list-style-type:none}ul.lst-kix_list_2-0{list-style-type:none}ul.lst-kix_list_1-2{list-style-type:none}ul.lst-kix_list_2-1{list-style-type:none}ul.lst-kix_list_1-7{list-style-type:none}ul.lst-kix_list_2-6{list-style-type:none}.lst-kix_list_1-1 > li:before{content:"-  "}.lst-kix_list_1-2 > li:before{content:"-  "}ul.lst-kix_list_1-8{list-style-type:none}ul.lst-kix_list_2-7{list-style-type:none}ul.lst-kix_list_1-5{list-style-type:none}ul.lst-kix_list_2-4{list-style-type:none}ul.lst-kix_list_1-6{list-style-type:none}ul.lst-kix_list_2-5{list-style-type:none}.lst-kix_list_1-3 > li:before{content:"-  "}.lst-kix_list_1-4 > li:before{content:"-  "}.lst-kix_list_1-7 > li:before{content:"-  "}.lst-kix_list_1-5 > li:before{content:"-  "}.lst-kix_list_1-6 > li:before{content:"-  "}.lst-kix_list_2-0 > li:before{content:"●  "}.lst-kix_list_2-1 > li:before{content:"○  "}.lst-kix_list_1-8 > li:before{content:"-  "}.lst-kix_list_2-2 > li:before{content:"■  "}.lst-kix_list_2-3 > li:before{content:"●  "}</style><div style="background-color:#ffffff;padding:36pt 36pt 36pt 36pt;max-width:540pt"><div><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;height:11pt;text-align:center"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Arial&quot;;font-style:normal"></span></p></div><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal"><br>In this lab, you will: </span></p><ul class="lst-kix_list_1-0 start" style="padding:0;margin:0"><li style="padding:0;color:#000000;font-size:11pt;line-height:1.1500000000000001;margin-right:0;margin-left:36pt;font-family:&quot;Arial&quot;;margin-top:0;orphans:2;margin-bottom:0;widows:2;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal">Investigate three ways to handle concurrent connections on the server side: Multiprocessing, Multithreading, Multiplexing</span></li><li style="padding:0;color:#000000;font-size:11pt;line-height:1.1500000000000001;margin-right:0;margin-left:36pt;font-family:&quot;Arial&quot;;margin-top:0;orphans:2;margin-bottom:0;widows:2;text-align:left"><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">Examine common pitfalls and complexities of each approach</span></li><li style="padding:0;color:#000000;font-size:11pt;line-height:1.1500000000000001;margin-right:0;margin-left:36pt;font-family:&quot;Arial&quot;;margin-top:0;orphans:2;margin-bottom:0;widows:2;text-align:left"><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">See the use of semaphores for synchronization &nbsp;</span></li></ul><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;height:11pt;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal"></span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:center"><span style="font-family:&quot;Times New Roman&quot;;color:#980000;font-weight:700">YOU MUST USE YOUR COURSE ENVIRONMENT &nbsp;FOR TODAY'S LAB! <br>If you must use openlab, make sure to kill your programs when done!</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;height:11pt;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal"></span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">To begin, extract the base files from</span><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">&nbsp;</span><span style="-webkit-text-decoration-skip:none;color:#1155cc;font-weight:400;text-decoration:underline;text-decoration-skip-ink:none;font-family:&quot;Times New Roman&quot;"><a href="https://www.google.com/url?q=https://www.google.com/url?q%3Dhttps://drive.google.com/file/d/1CVvKZlmmx2tXF-uoPGYEUykWjbpRELg6/view?usp%253Dsharing%26amp;sa%3DD%26amp;source%3Deditors%26amp;ust%3D1646268227619154%26amp;usg%3DAOvVaw23a3wKehjD0TI-oCezwVFo&amp;sa=D&amp;source=docs&amp;ust=1646268227641072&amp;usg=AOvVaw2qFgCdiPyyd5QQgppzTAlO" style="color:inherit;text-decoration:inherit">lab8.tar</a></span><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">&nbsp;</span><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal">into your directory. You will need these base files to explore different concurrent programming methods, including a multithreaded concurrent server program.</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;height:11pt;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal"></span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.0;orphans:2;widows:2;text-align:left"><span style="background-color:#ffffff;color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10.5pt;font-family:&quot;Courier New&quot;;font-style:normal">lab8/</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.0;orphans:2;widows:2;text-align:left"><span style="background-color:#ffffff;color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10.5pt;font-family:&quot;Courier New&quot;;font-style:normal">├── include/</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.0;orphans:2;widows:2;text-align:left"><span style="background-color:#ffffff;font-size:10.5pt;font-family:&quot;Courier New&quot;;font-weight:400">│ &nbsp; &nbsp;└── sample.h &nbsp; // the base code for this assignment</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.0;orphans:2;widows:2;text-align:left"><span style="background-color:#ffffff;color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10.5pt;font-family:&quot;Courier New&quot;;font-style:normal">├── Makefile &nbsp; &nbsp; </span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.0;orphans:2;widows:2;text-align:left"><span style="background-color:#ffffff;color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10.5pt;font-family:&quot;Courier New&quot;;font-style:normal">└── src/</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.0;orphans:2;widows:2;text-align:left"><span style="background-color:#ffffff;color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10.5pt;font-family:&quot;Courier New&quot;;font-style:normal">&nbsp; &nbsp;├── client.c &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// example client program</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.0;orphans:2;widows:2;text-align:left"><span style="background-color:#ffffff;color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10.5pt;font-family:&quot;Courier New&quot;;font-style:normal">&nbsp; &nbsp;├── server_multiplexing.c &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// example server with multiplexing</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.0;orphans:2;widows:2;text-align:left"><span style="background-color:#ffffff;color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10.5pt;font-family:&quot;Courier New&quot;;font-style:normal">&nbsp; &nbsp;├── server_multiprocessing.c&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// example server with multiprocessing</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.0;orphans:2;widows:2;text-align:left"><span style="background-color:#ffffff;color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10.5pt;font-family:&quot;Courier New&quot;;font-style:normal">&nbsp; &nbsp;├── server_multithreading_1.c &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// example server with multithreading</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.0;orphans:2;widows:2;text-align:left"><span style="background-color:#ffffff;color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10.5pt;font-family:&quot;Courier New&quot;;font-style:normal">&nbsp; &nbsp;└── server_multithreading_2.c &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// example server with multithreading</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.0;orphans:2;widows:2;height:11pt;text-align:left"><span style="background-color:#ffffff;color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10.5pt;font-family:&quot;Courier New&quot;;font-style:normal"></span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="-webkit-text-decoration-skip:none;color:#000000;font-weight:700;text-decoration:underline;vertical-align:baseline;text-decoration-skip-ink:none;font-size:18pt;font-family:&quot;Times New Roman&quot;;font-style:normal">Concurrent Programming</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">In the last lab, we worked on a TCP client/server echo program which has an iterative server model. The server only handles clients one at a time. The server should not call </span><span style="font-weight:400;font-family:&quot;Consolas&quot;">accept()</span><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal">&nbsp;to create a new client socket until the current one is closed. </span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;height:11pt;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal"></span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal">Although an iterative server is useful in certain cases, most practical server programs are working in a concurrent model. Compared with the iterative server from the previous lab, a concurrent server handles many clients at the same time, in parallel. To handle multiple clients at the same time, a server needs to process multiple sockets properly. This might be challenging because some functions to process a client socket might block the server program. For example, a server could accept two open client sockets, C1 and C2, that display any data that arrives on a socket. Initially, data is not available on either socket. If the server reads from C1, execution blocks until data is available on that socket. In the meantime, data could arrive on C2, but the server would never receive it because the program is waiting for C1. </span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;height:11pt;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal"></span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal">There are different ways to handle multiple sockets at the same time in the server program and we will try three of the main methods in this lab: &nbsp;</span></p><ul class="lst-kix_list_2-0 start" style="padding:0;margin:0"><li style="padding:0;color:#000000;font-size:11pt;line-height:1.1500000000000001;margin-right:0;margin-left:36pt;font-family:&quot;Arial&quot;;margin-top:0;orphans:2;margin-bottom:0;widows:2;text-align:left"><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">Process-based - </span><span style="font-weight:400;font-family:&quot;Consolas&quot;">src/server_multiprocessing.c</span></li><li style="padding:0;color:#000000;font-size:11pt;line-height:1.1500000000000001;margin-right:-18pt;margin-left:36pt;font-family:&quot;Arial&quot;;margin-top:0;orphans:2;margin-bottom:0;widows:2;text-align:left"><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">Multiplexing - </span><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Consolas&quot;;font-style:normal">src/server_multiplexing.c</span></li><li style="padding:0;color:#000000;font-size:11pt;line-height:1.1500000000000001;margin-right:-18pt;margin-left:36pt;font-family:&quot;Arial&quot;;margin-top:0;orphans:2;margin-bottom:0;widows:2;text-align:left"><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">Thread-based (2 variants) - &nbsp; </span><span style="font-weight:400;font-family:&quot;Consolas&quot;">src/server_multithreading_1.c, src/server_multithreading_2.c</span></li></ul><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;height:11pt;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal"></span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">The example code is in </span><span style="font-weight:400;font-family:&quot;Consolas&quot;">lab8/src</span><span style="font-weight:400;font-family:&quot;Courier New&quot;">&nbsp;</span><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">directory. &nbsp;</span><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">To compile all of the examples for this lab, run the default target in the makefile: </span><span style="color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Consolas&quot;;font-style:normal">$ make</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;height:11pt;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Courier New&quot;;font-style:normal"></span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">You will need to open multiple terminals in order to run multiple clients simultaneously. One alternative is to use a </span><span style="-webkit-text-decoration-skip:none;color:#1155cc;font-weight:400;text-decoration:underline;text-decoration-skip-ink:none;font-family:&quot;Times New Roman&quot;"><a href="https://www.google.com/url?q=https://www.google.com/url?q%3Dhttps://hackernoon.com/a-gentle-introduction-to-tmux-8d784c404340%26amp;sa%3DD%26amp;source%3Deditors%26amp;ust%3D1646268227621558%26amp;usg%3DAOvVaw0YAlqgf2ZnrFI1B4gQrpL-&amp;sa=D&amp;source=docs&amp;ust=1646268227641961&amp;usg=AOvVaw1-UrMjM4GcPEIzx_-EV4pd" style="color:inherit;text-decoration:inherit">tmux session</a></span><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">. If you choose to use </span><span style="font-weight:400;font-family:&quot;Consolas&quot;">tmux</span><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">, open up a </span><span style="-webkit-text-decoration-skip:none;color:#1155cc;font-weight:400;text-decoration:underline;text-decoration-skip-ink:none;font-family:&quot;Times New Roman&quot;"><a href="https://www.google.com/url?q=https://www.google.com/url?q%3Dhttps://tmuxcheatsheet.com/%26amp;sa%3DD%26amp;source%3Deditors%26amp;ust%3D1646268227622003%26amp;usg%3DAOvVaw0EssZfLDGuL9pHFK8XCyY6&amp;sa=D&amp;source=docs&amp;ust=1646268227642065&amp;usg=AOvVaw0CuMP09rUd_zKMM5N0ywy1" style="color:inherit;text-decoration:inherit">&nbsp;tmux cheat sheet </a></span><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal">for the keyboard shortcuts. We will refer to different terminals of your VM with the notation VM-x, where x will be replaced with a reference character (eg. VM-A, VM-B). For the majority of the lab you will need 3-4 terminals.</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;height:11pt;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal"></span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal">For each type of server concurrency program, you will be asked to examine the provided code, run the server code on one VM, run the client code on another, and answer the associated question(s) in the Canvas quiz.</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;height:11pt;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal"></span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">The same client program (</span><span style="background-color:#ffffff;font-size:10.5pt;font-family:&quot;Consolas&quot;;font-weight:400">src/client.c</span><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal">) will be used to test with the different types of server programs. When compiled and executed, this client program tries to connect to the server. Once connected, EVERY 3 seconds it sends a message which includes its ID and current message count to the server and waits for a response.</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;height:11pt;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal"></span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal">To run the client:</span></p><a id="t.c8e1ab5b1cbd3da67a2adeb577382e3df848850a"></a><a id="t.0"></a><table style="border-spacing:0;border-collapse:collapse;margin-right:auto"><tbody><tr style="height:0pt"><td colspan="1" rowspan="1" style="border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:540pt;border-top-color:#000000;border-bottom-style:solid"><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.0;text-align:left"><span style="color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Consolas&quot;;font-style:normal">$ ./bin/client -i &lt;client_id&gt; -h &lt;server_ip&gt; -p &lt;server_port_number&gt;</span></p></td></tr></tbody></table><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;height:11pt;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal"></span></p><a id="t.5c2b238e8c51a41f4eb5e621417a3f294321dd94"></a><a id="t.1"></a><table style="border-spacing:0;border-collapse:collapse;margin-right:auto"><tbody><tr style="height:0pt"><td colspan="1" rowspan="1" style="border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#d9ead3;border-left-style:solid;border-bottom-width:1pt;width:540pt;border-top-color:#000000;border-bottom-style:solid"><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.0;text-align:left"><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">If the client program sends messages to the server too quickly for you to make observations, you can change the client code to increase the delay from </span><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Courier New&quot;;font-style:normal">sleep(3);</span></p></td></tr></tbody></table><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;height:11pt;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal"></span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">To run the server locally in your VM, replace </span><span style="font-weight:400;font-family:&quot;Consolas&quot;">&lt;server_ip&gt;</span><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">&nbsp;with the localhost ip </span><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Consolas&quot;;font-style:normal">127.0.0.1</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;height:11pt;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal"></span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="-webkit-text-decoration-skip:none;color:#000000;font-weight:700;text-decoration:underline;vertical-align:baseline;text-decoration-skip-ink:none;font-size:14pt;font-family:&quot;Times New Roman&quot;;font-style:normal">Part 1: Multiprocessing</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">As discussed in lecture, one approach to address handling multiple client connections to a server is to create a new process per incoming connection. Briefly examine the code in </span><span style="font-weight:400;font-family:&quot;Consolas&quot;">src/server_multiprocessing.c</span><span style="font-weight:400;font-family:&quot;Courier New&quot;">. </span><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal">Discuss how it works with your peers in open lab hours or over zoom. </span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;height:11pt;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal"></span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">To run server: </span><span style="color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Consolas&quot;;font-style:normal">$ ./bin/server_multiprocessing -p &lt;your_port&gt; </span></p><p style="padding:0;color:#000000;font-size:11pt;line-height:1.1500000000000001;margin-right:-36pt;margin-left:0;font-family:&quot;Arial&quot;;margin-top:0;orphans:2;margin-bottom:0;widows:2;text-align:left"><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">To run a client with id 1: </span><span style="font-weight:700;font-family:&quot;Consolas&quot;">$ ./bin/client -i 1 -h </span><span style="font-weight:700;font-family:&quot;Consolas&quot;">&lt;</span><span style="font-weight:700;font-family:&quot;Consolas&quot;">server_ip</span><span style="font-weight:700;font-family:&quot;Consolas&quot;">&gt;</span><span style="color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Consolas&quot;;font-style:normal">&nbsp;-p &lt;your_port&gt; </span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;height:11pt;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal"></span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">Start the server on VM-A. From VM-B, connect a single client. Observe the output of the server program. Connect a second client to the server from VM-C, with id 2. Observe the output of the server when there are two clients connected. &nbsp;Use the command &nbsp;</span><span style="font-weight:700;font-family:&quot;Consolas&quot;">$ ps -ef | grep server</span><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">&nbsp;on a third terminal to view the server processes. </span><span style="color:#0000ff;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal">Answer Question 1 of the quiz</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;height:11pt;text-align:left"><span style="color:#0000ff;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal"></span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">Terminate both of the clients (VM-B and VM-C) using Ctrl-C. </span><span style="color:#0000ff;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal">Answer Question 2 &amp; 3 of the quiz</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">Restart multiple clients with different &nbsp;id #'s on VM-B and VM-C to the server. Observe the output of the server program, especially the output of the total number of received events. </span><span style="color:#0000ff;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal">Answer Question 4 of the quiz</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;height:11pt;text-align:left"><span style="-webkit-text-decoration-skip:none;color:#000000;font-weight:700;text-decoration:underline;vertical-align:baseline;text-decoration-skip-ink:none;font-size:14pt;font-family:&quot;Times New Roman&quot;;font-style:normal"></span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="-webkit-text-decoration-skip:none;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none;font-size:14pt;font-family:&quot;Times New Roman&quot;">Part 2:Multithreading</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">In lecture we introduced the concepts of threads, or lightweight processes. Threads are a more efficient approach to support many clients than processes as the context switching overhead is lower, and they can access shared variables. &nbsp;Threads are supported using the </span><span style="-webkit-text-decoration-skip:none;color:#1155cc;font-weight:400;text-decoration:underline;text-decoration-skip-ink:none;font-family:&quot;Times New Roman&quot;"><a href="https://www.google.com/url?q=https://www.google.com/url?q%3Dhttps://pubs.opengroup.org/onlinepubs/7908799/xsh/pthread.h.html%26amp;sa%3DD%26amp;source%3Deditors%26amp;ust%3D1646268227625705%26amp;usg%3DAOvVaw3D2qgvg4bpZmomGmkdmpSn&amp;sa=D&amp;source=docs&amp;ust=1646268227642979&amp;usg=AOvVaw0X_sw1SS7JBRrVDKgS2Bem" style="color:inherit;text-decoration:inherit">pthreads &nbsp;library</a></span><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">. In this implementation, the server creates a new thread per incoming connection. Briefly examine the code in </span><span style="font-weight:400;font-family:&quot;Consolas&quot;">src/server_multithreading_1.c</span><span style="font-weight:400;font-family:&quot;Courier New&quot;">. </span><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal">Discuss with your neighbor(s) how it works</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;height:11pt;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal"></span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">To run server: </span><span style="color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Consolas&quot;;font-style:normal">$ ./bin/server_multithreading_1 -p &lt;your_port&gt; </span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">To run a client with id 1: </span><span style="font-weight:700;font-family:&quot;Consolas&quot;">$ ./bin/client -i 1 -h &lt;IP addr of VM where server program runs&gt; -p &lt;your_port&gt;</span><span style="font-weight:700;font-family:&quot;Courier New&quot;">&nbsp;</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;height:11pt;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal"></span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">Start the server on VM-A. From VM-B, connect a single client. Observe the output of the server program. Connect a second client to the server from VM-C. Observe the output of the server when there are two clients connected. &nbsp;Stop and start the client connections again. Consider adding another client connection. </span><span style="color:#0000ff;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal">Answer Question 5-7 of the quiz</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;height:11pt;text-align:left"><span style="color:#0000ff;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal"></span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">The implementation of the server in </span><span style="font-weight:400;font-family:&quot;Consolas&quot;">src/server_multithreading_2.c</span><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">&nbsp;corrects the issues you observed. Examine the code in the </span><span style="font-weight:400;font-family:&quot;Consolas&quot;">process_client</span><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">&nbsp;implementation in both versions. </span><span style="color:#0000ff;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal">Answer Question 8 of the quiz</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;height:11pt;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal"></span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="-webkit-text-decoration-skip:none;color:#000000;font-weight:700;text-decoration:underline;vertical-align:baseline;text-decoration-skip-ink:none;font-size:14pt;font-family:&quot;Times New Roman&quot;;font-style:normal">Part 3. Multiplexing</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal">The last approach we discussed was multiplexing. Instead of creating a child process or spawning a thread to handle each connection, the main process will multiplex between all the open file descriptors, handling each one in turn. </span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;height:11pt;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal"></span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">To run server:</span><span style="font-weight:400;font-family:&quot;Courier New&quot;">&nbsp;</span><span style="color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Consolas&quot;;font-style:normal">$ ./bin/server_multiplexing -p &lt;your_port&gt; </span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">To run a client with id 1: </span><span style="font-weight:700;font-family:&quot;Consolas&quot;">$ ./bin/client -i 1 -h &lt;IP addr of VM where server program runs&gt; -p &lt;your_port&gt;</span><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Courier New&quot;;font-style:normal">&nbsp;</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;height:11pt;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal"></span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal">Start the server on VM-A. From VM-B, connect a single client. Observe the output of the server program. Connect a second client to the server via VM-C. Observe the output of the server when there are two clients connected. &nbsp;The output of the client and server program is almost indistinguishable from the other approaches (except for a few extra printouts).</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;height:11pt;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal"></span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">Examine the provided code surrounding the extra print out statements. &nbsp; </span><span style="font-family:&quot;Times New Roman&quot;;color:#0000ff;font-weight:700">Answer Question 9 of the quiz</span></p><a id="t.8e6ff38808a06802f449cd63dbbbc1348ccfec6b"></a><a id="t.2"></a><table style="border-spacing:0;border-collapse:collapse;margin-right:auto"><tbody><tr style="height:0pt"><td colspan="1" rowspan="1" style="border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:540pt;border-top-color:#000000;border-bottom-style:solid"><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal">Consider modifying the client code to make the sleep delay between messages as a command line argument. In this way, you can have different client connections sending data to the server at different rates. </span></p></td></tr></tbody></table><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;height:11pt;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal"></span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="font-family:&quot;Times New Roman&quot;;color:#ff0000;font-weight:400">Note: the multiplexing server implementation is not complete and does not operate correctly in all scenarios. It is provided to demonstrate basic operation only.</span><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">&nbsp;If you would like to learn more details about multiplexing programming, please refer to </span><span style="-webkit-text-decoration-skip:none;color:#1155cc;font-weight:400;text-decoration:underline;text-decoration-skip-ink:none;font-family:&quot;Times New Roman&quot;"><a href="https://www.google.com/url?q=https://www.google.com/url?q%3Dhttps://notes.shichao.io/unp/ch6/%26amp;sa%3DD%26amp;source%3Deditors%26amp;ust%3D1646268227628872%26amp;usg%3DAOvVaw34Z7iFq7ztdkBr20H0xxTs&amp;sa=D&amp;source=docs&amp;ust=1646268227643739&amp;usg=AOvVaw3dG89WCdvS-xJtx4hANFlI" style="color:inherit;text-decoration:inherit">I/O Multiplexing: The select and poll Functions</a></span><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">. Also the reference </span><span style="-webkit-text-decoration-skip:none;color:#1155cc;font-weight:400;text-decoration:underline;text-decoration-skip-ink:none;font-family:&quot;Times New Roman&quot;"><a href="https://www.google.com/url?q=https://www.google.com/url?q%3Dhttp://devarea.com/linux-io-multiplexing-select-vs-poll-vs-epoll/%26amp;sa%3DD%26amp;source%3Deditors%26amp;ust%3D1646268227629407%26amp;usg%3DAOvVaw3i_0T0oxgDIjfPntGtx0Xq&amp;sa=D&amp;source=docs&amp;ust=1646268227643824&amp;usg=AOvVaw0gkJCtl7ZGzpKy3X0j4yCi" style="color:inherit;text-decoration:inherit">Linux – IO Multiplexing – Select vs Poll vs Epoll </a></span><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">&nbsp;introduces the difference among different functions that could be used to implement multiplexing</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;height:11pt;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Times New Roman&quot;;font-style:normal"></span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="font-family:&quot;Times New Roman&quot;;color:#ff0000;font-weight:700">Deliverable</span><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">:</span><span style="font-family:&quot;Times New Roman&quot;;color:#0000ff;font-weight:700">&nbsp;Complete the Lab #8 Quiz</span><span style="font-weight:400;font-family:&quot;Times New Roman&quot;">&nbsp;in Canvas.</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;text-align:left"><span style="-webkit-text-decoration-skip:none;color:#000000;font-weight:700;text-decoration:underline;vertical-align:baseline;text-decoration-skip-ink:none;font-size:18pt;font-family:&quot;Times New Roman&quot;;font-style:normal">&nbsp;</span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;height:11pt;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Arial&quot;;font-style:normal"></span></p><p style="padding:0;margin:0;color:#000000;font-size:11pt;font-family:&quot;Arial&quot;;line-height:1.1500000000000001;orphans:2;widows:2;height:11pt;text-align:left"><span style="color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:&quot;Arial&quot;;font-style:normal"></span></p></div></div></div></div><script nonce="">window.setTimeout(function() { window.scrollTo(0, 1); }, 0)</script></body></html>